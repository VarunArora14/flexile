#!/bin/bash

set -e

pnpm next lint apps/frontend --fix --max-warnings 0
pnpm tsc -p e2e/tsconfig.json
pnpm eslint --fix --max-warnings 0
pnpm prettier --write '**/*.{css,md,json}' --check '!docker'
pnpm svgo --multipass apps/backend/app/assets/**/*.svg
pnpm svgo --multipass apps/frontend/**/*.svg
cd apps/backend
bundle exec rubocop -a
bundle exec erb_lint --lint-all --format compact -a
